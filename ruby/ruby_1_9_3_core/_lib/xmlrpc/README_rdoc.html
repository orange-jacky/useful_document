<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <!-- RD version: 0.22.9  -->
    <!--  filepage  -->
  <meta charset="utf-8">
          
  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/b/378 -->
  <!-- meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" -->


	<title>File: README.rdoc [Ruby 1.9.3]</title>
  <link rel="stylesheet" href="../../css/inuit.css" >
  <link rel="stylesheet" href="../../css/grid.inuit.css" >
  <link rel="stylesheet" href="../../css/2011.css" type="text/css" >
  <link rel="stylesheet" href="../../css/rdoc.css" type="text/css" >

</head>

<body class="file">
<div id='actionbar' >
<div class='wrapper'>
<ul class='grids g0'>
	<li class='grid-2' ><a href='/' target='_top' >Home</a></li>
	<li class='grid-2' ><a href='/core-1.9.3' target='_top' >Core 1.9.3</a></li>
	<li class='grid-2' ><a href='/stdlib-1.9.3' target='_top' >Std-lib 1.9.3</a></li>
	<li class='grid-2' ><a href='/gems' target='_top' >Gems</a></li>
	<li class='grid-2' ><a href='/downloads' target='_top' >Downloads</a></li>
	<li class='grid-5 right' id='rd-action-search'><form id="searchbox_011815814100681837392:wnccv6st5qk" action="http://ruby-doc.com/search.html"><input type="hidden" name="cx" value="011815814100681837392:wnccv6st5qk" ><input  id='rd-search-input' name="q" type="text" size="20" >&#160;&#160;<input type="submit" name="sa" value="Search" ><input type="hidden" name="cof" value="FORID:9" ></form>
</li>
</ul></div>
</div> <!-- end action bar -->
          <div class='wrapper'>

  <div id="metadata">
    <div id="home-metadata">
      <header>
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
      </header>
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../_lib/xmlrpc/README_rdoc.html">README.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../_test/rdoc/test_ja_large_rdoc.html">test.ja.large.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../_test/rdoc/test_ja_rdoc.html">test.ja.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/rake/command_line_usage_rdoc.html">command_line_usage.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/rake/glossary_rdoc.html">glossary.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/rake/proto_rake_rdoc.html">proto_rake.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/rake/rakefile_rdoc.html">rakefile.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/rake/rational_rdoc.html">rational.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/rake/release_notes/rake-0_8_7_rdoc.html">rake-0.8.7.rdoc</a></li>
				
        <!-- local_rel_prefix -->
					<li class="file"><a href="../../doc/re_rdoc.html">re.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" ></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value="" class="quicksearch-field" >
				</fieldset>
				</form>

				<ul class="link-list">
				
        <!--  local_rel_prefix -->
					<li><a href="../../ARGF.html">ARGF</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ArgumentError.html">ArgumentError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Array.html">Array</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../BasicObject.html">BasicObject</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Bignum.html">Bignum</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Binding.html">Binding</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Class.html">Class</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Comparable.html">Comparable</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Complex.html">Complex</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Continuation.html">Continuation</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Data.html">Data</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Dir.html">Dir</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ENV.html">ENV</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../EOFError.html">EOFError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Encoding.html">Encoding</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Encoding/CompatibilityError.html">Encoding::CompatibilityError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Encoding/Converter.html">Encoding::Converter</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Encoding/ConverterNotFoundError.html">Encoding::ConverterNotFoundError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Encoding/InvalidByteSequenceError.html">Encoding::InvalidByteSequenceError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Encoding/UndefinedConversionError.html">Encoding::UndefinedConversionError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../EncodingError.html">EncodingError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Enumerable.html">Enumerable</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Enumerator.html">Enumerator</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Enumerator/Generator.html">Enumerator::Generator</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Enumerator/Yielder.html">Enumerator::Yielder</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Errno.html">Errno</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Exception.html">Exception</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../FalseClass.html">FalseClass</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Fiber.html">Fiber</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../FiberError.html">FiberError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../File.html">File</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../File/Constants.html">File::Constants</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../File/Stat.html">File::Stat</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../FileTest.html">FileTest</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Fixnum.html">Fixnum</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Float.html">Float</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../FloatDomainError.html">FloatDomainError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../GC.html">GC</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../GC/Profiler.html">GC::Profiler</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Hash.html">Hash</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../IO.html">IO</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../IO/WaitReadable.html">IO::WaitReadable</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../IO/WaitWritable.html">IO::WaitWritable</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../IOError.html">IOError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../IndexError.html">IndexError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Integer.html">Integer</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Interrupt.html">Interrupt</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Kernel.html">Kernel</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../KeyError.html">KeyError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../LoadError.html">LoadError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../LocalJumpError.html">LocalJumpError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Marshal.html">Marshal</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../MatchData.html">MatchData</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Math.html">Math</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Math/DomainError.html">Math::DomainError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Method.html">Method</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Module.html">Module</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Mutex.html">Mutex</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../NameError.html">NameError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../NilClass.html">NilClass</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../NoMemoryError.html">NoMemoryError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../NoMethodError.html">NoMethodError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../NotImplementedError.html">NotImplementedError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Numeric.html">Numeric</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Object.html">Object</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ObjectSpace.html">ObjectSpace</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Proc.html">Proc</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Process.html">Process</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Process/GID.html">Process::GID</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Process/Status.html">Process::Status</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Process/Sys.html">Process::Sys</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Process/UID.html">Process::UID</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Random.html">Random</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Range.html">Range</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../RangeError.html">RangeError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Rational.html">Rational</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Regexp.html">Regexp</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../RegexpError.html">RegexpError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../RubyVM.html">RubyVM</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../RubyVM/Env.html">RubyVM::Env</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../RubyVM/InstructionSequence.html">RubyVM::InstructionSequence</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../RuntimeError.html">RuntimeError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ScriptError.html">ScriptError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../SecurityError.html">SecurityError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Signal.html">Signal</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../SignalException.html">SignalException</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../StandardError.html">StandardError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../StopIteration.html">StopIteration</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../String.html">String</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Struct.html">Struct</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Symbol.html">Symbol</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../SyntaxError.html">SyntaxError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../SystemCallError.html">SystemCallError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../SystemExit.html">SystemExit</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../SystemStackError.html">SystemStackError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Thread.html">Thread</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ThreadError.html">ThreadError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ThreadGroup.html">ThreadGroup</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../Time.html">Time</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../TrueClass.html">TrueClass</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../TypeError.html">TypeError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../UnboundMethod.html">UnboundMethod</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../ZeroDivisionError.html">ZeroDivisionError</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../fatal.html">fatal</a></li>
				
        <!--  local_rel_prefix -->
					<li><a href="../../unknown.html">unknown</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>
  <div class='adzbox'  id="azk83167">
   <div id="carbonads-container"><div class="carbonad"><div id="azcarbon"></div><script type="text/javascript">var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = "http://engine.carbonads.com/z/19647/azcarbon_2_1_0_VERT"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script></div></div>

  </div> 
	<div id="documentation">
		
<h1 id="label-XMLRPC+for+Ruby">XMLRPC for Ruby<span><a href="#label-XMLRPC+for+Ruby">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<h2 id="label-Author+and+Copyright">Author and Copyright<span><a href="#label-Author+and+Copyright">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Copyright (C) 2001-2004 by Michael Neumann (<a
href="mailto:mneumann@ntecs.de">mneumann@ntecs.de</a>)</p>

<p>Released under the same term of license as Ruby.</p>

<h2 id="label-Overview">Overview<span><a href="#label-Overview">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>XMLRPC is a lightweight protocol that enables remote procedure calls over
HTTP.  It is defined at <a href="http://www.xmlrpc.com">www.xmlrpc.com</a>.</p>

<p>XMLRPC allows you to create simple distributed computing solutions that
span computer languages.  Its distinctive feature is its simplicity
compared to other approaches like SOAP and CORBA.</p>

<p>The Ruby standard library package ‘xmlrpc’ enables you to create a server
that implements remote procedures and a client that calls them.  Very
little code is required to achieve either of these.</p>

<h2 id="label-Example">Example<span><a href="#label-Example">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Try the following code.  It calls a standard demonstration remote
procedure.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'xmlrpc/client'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'pp'</span>

<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new2</span>(<span class="ruby-string">&quot;http://xmlrpc-c.sourceforge.net/api/sample.php&quot;</span>)
<span class="ruby-identifier">result</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">call</span>(<span class="ruby-string">&quot;sample.sumAndDifference&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-value">3</span>)
<span class="ruby-identifier">pp</span> <span class="ruby-identifier">result</span>
</pre>

<h2 id="label-Documentation">Documentation<span><a href="#label-Documentation">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>See <a
href="http://www.ntecs.de/projects/xmlrpc4r">www.ntecs.de/projects/xmlrpc4r</a>.
There is plenty of detail there to use the client and implement a server.</p>

<h2 id="label-Features+of+XMLRPC+for+Ruby">Features of XMLRPC for Ruby<span><a href="#label-Features+of+XMLRPC+for+Ruby">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>Extensions</p>
<ul><li>
<p>Introspection</p>
</li><li>
<p>multiCall</p>
</li><li>
<p>optionally nil values and integers larger than 32 Bit</p>
</li></ul>
</li><li>
<p>Server</p>
<ul><li>
<p>Standalone XML-RPC server</p>
</li><li>
<p>CGI-based (works with FastCGI)</p>
</li><li>
<p>Apache mod_ruby server</p>
</li><li>
<p>WEBrick servlet</p>
</li></ul>
</li><li>
<p>Client</p>
<ul><li>
<p>synchronous/asynchronous calls</p>
</li><li>
<p>Basic HTTP-401 Authentification</p>
</li><li>
<p>HTTPS protocol (SSL)</p>
</li></ul>
</li><li>
<p>Parsers</p>
<ul><li>
<p>NQXML (NQXMLStreamParser, NQXMLTreeParser)</p>
</li><li>
<p>Expat (XMLStreamParser, XMLTreeParser)</p>
</li><li>
<p>REXML (REXMLStreamParser)</p>
</li><li>
<p>xml-scan (XMLScanStreamParser)</p>
</li><li>
<p>Fastest parser is Expat’s XMLStreamParser!</p>
</li></ul>
</li><li>
<p>General</p>
<ul><li>
<p>possible to choose between XMLParser module (Expat wrapper) and REXML/NQXML
(pure Ruby) parsers</p>
</li><li>
<p>Marshalling Ruby objects to Hashs and reconstruct them later from a <a
href="../../Hash.html">Hash</a></p>
</li><li>
<p>SandStorm component architecture Client interface</p>
</li></ul>
</li></ul>

<h2 id="label-Howto">Howto<span><a href="#label-Howto">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Client">Client<span><a href="#label-Client">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/client&quot;</span>

<span class="ruby-comment"># Make an object to represent the XML-RPC server.</span>
<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>( <span class="ruby-string">&quot;xmlrpc-c.sourceforge.net&quot;</span>, <span class="ruby-string">&quot;/api/sample.php&quot;</span>)

<span class="ruby-comment"># Call the remote server and get our result</span>
<span class="ruby-identifier">result</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">call</span>(<span class="ruby-string">&quot;sample.sumAndDifference&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-value">3</span>)

<span class="ruby-identifier">sum</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;sum&quot;</span>]
<span class="ruby-identifier">difference</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;difference&quot;</span>]

<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Sum: #{sum}, Difference: #{difference}&quot;</span>
</pre>

<h3 id="label-Client+with+XML-RPC+fault-structure+handling">Client with XML-RPC fault-structure handling<span><a href="#label-Client+with+XML-RPC+fault-structure+handling">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>There are two possible ways, of handling a fault-structure:</p>

<h4 id="label-by+catching+a+XMLRPC%3A%3AFaultException+exception">by catching a XMLRPC::FaultException exception<span><a href="#label-by+catching+a+XMLRPC%3A%3AFaultException+exception">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/client&quot;</span>

<span class="ruby-comment"># Make an object to represent the XML-RPC server.</span>
<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>( <span class="ruby-string">&quot;xmlrpc-c.sourceforge.net&quot;</span>, <span class="ruby-string">&quot;/api/sample.php&quot;</span>)

<span class="ruby-keyword">begin</span>
  <span class="ruby-comment"># Call the remote server and get our result</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">call</span>(<span class="ruby-string">&quot;sample.sumAndDifference&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-value">3</span>)

  <span class="ruby-identifier">sum</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;sum&quot;</span>]
  <span class="ruby-identifier">difference</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;difference&quot;</span>]

  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Sum: #{sum}, Difference: #{difference}&quot;</span>

<span class="ruby-keyword">rescue</span> <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">FaultException</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Error: &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">faultCode</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">faultString</span>
<span class="ruby-keyword">end</span>
</pre>

<h4 id="label-by+calling+%22call2%22+which+returns+a+boolean">by calling “call2” which returns a boolean<span><a href="#label-by+calling+%22call2%22+which+returns+a+boolean">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/client&quot;</span>

<span class="ruby-comment"># Make an object to represent the XML-RPC server.</span>
<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>( <span class="ruby-string">&quot;xmlrpc-c.sourceforge.net&quot;</span>, <span class="ruby-string">&quot;/api/sample.php&quot;</span>)

<span class="ruby-comment"># Call the remote server and get our result</span>
<span class="ruby-identifier">ok</span>, <span class="ruby-identifier">result</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">call2</span>(<span class="ruby-string">&quot;sample.sumAndDifference&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-value">3</span>)

<span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
  <span class="ruby-identifier">sum</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;sum&quot;</span>]
  <span class="ruby-identifier">difference</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;difference&quot;</span>]

  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Sum: #{sum}, Difference: #{difference}&quot;</span>
<span class="ruby-keyword">else</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Error: &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">faultCode</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">faultString</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Client+using+Proxy">Client using Proxy<span><a href="#label-Client+using+Proxy">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>You can create a <code>Proxy</code> object onto which you can call methods.
This way it looks nicer. Both forms, <em>call</em> and <em>call2</em> are
supported through <em>proxy</em> and <em>proxy2</em>.  You can additionally
give arguments to the Proxy, which will be given to each XML-RPC call using
that Proxy.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/client&quot;</span>

<span class="ruby-comment"># Make an object to represent the XML-RPC server.</span>
<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>( <span class="ruby-string">&quot;xmlrpc-c.sourceforge.net&quot;</span>, <span class="ruby-string">&quot;/api/sample.php&quot;</span>)

<span class="ruby-comment"># Create a Proxy object</span>
<span class="ruby-identifier">sample</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">proxy</span>(<span class="ruby-string">&quot;sample&quot;</span>)

<span class="ruby-comment"># Call the remote server and get our result</span>
<span class="ruby-identifier">result</span> = <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">sumAndDifference</span>(<span class="ruby-value">5</span>,<span class="ruby-value">3</span>)

<span class="ruby-identifier">sum</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;sum&quot;</span>]
<span class="ruby-identifier">difference</span> = <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;difference&quot;</span>]

<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Sum: #{sum}, Difference: #{difference}&quot;</span>
</pre>

<h3 id="label-CGI-based+Server">CGI-based Server<span><a href="#label-CGI-based+Server">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>There are also two ways to define handler, the first is like C/PHP, the
second like Java, of course both ways can be mixed:</p>

<h4 id="label-C%2FPHP-like+%28handler+functions%29">C/PHP-like (handler functions)<span><a href="#label-C%2FPHP-like+%28handler+functions%29">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/server&quot;</span>

<span class="ruby-identifier">s</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">CGIServer</span>.<span class="ruby-identifier">new</span>

<span class="ruby-identifier">s</span>.<span class="ruby-identifier">add_handler</span>(<span class="ruby-string">&quot;sample.sumAndDifference&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
  { <span class="ruby-string">&quot;sum&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">b</span>, <span class="ruby-string">&quot;difference&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span> }
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">s</span>.<span class="ruby-identifier">serve</span>
</pre>

<h4 id="label-Java-like+%28handler+classes%29">Java-like (handler classes)<span><a href="#label-Java-like+%28handler+classes%29">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/server&quot;</span>

<span class="ruby-identifier">s</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">CGIServer</span>.<span class="ruby-identifier">new</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">MyHandler</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">sumAndDifference</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)
    { <span class="ruby-string">&quot;sum&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">b</span>, <span class="ruby-string">&quot;difference&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># NOTE: Security Hole (read below)!!!</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">add_handler</span>(<span class="ruby-string">&quot;sample&quot;</span>, <span class="ruby-constant">MyHandler</span>.<span class="ruby-identifier">new</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">serve</span>
</pre>

<p>To return a fault-structure you have to raise an FaultException e.g.:</p>

<pre>raise XMLRPC::FaultException.new(3, &quot;division by Zero&quot;)</pre>

<h5 id="label-Security+Note">Security Note<span><a href="#label-Security+Note">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>From Brian Candler:</p>

<pre>Above code sample has an extremely nasty security hole, in that you can now call
any method of 'MyHandler' remotely, including methods inherited from Object
and Kernel! For example, in the client code, you can use

  puts server.call(&quot;sample.send&quot;,&quot;`&quot;,&quot;ls&quot;)

(backtick being the method name for running system processes). Needless to
say, 'ls' can be replaced with something else.

The version which binds proc objects (or the version presented below in the next section)
doesn't have this problem, but people may be tempted to use the second version because it's
so nice and 'Rubyesque'. I think it needs a big red disclaimer.</pre>

<p>From Michael:</p>

<p>A solution is to undef insecure methods or to use (({XMLRPC::iPIMethods}))
as shown below:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyHandler</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">sumAndDifference</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)
    { <span class="ruby-string">&quot;sum&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">b</span>, <span class="ruby-string">&quot;difference&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># ... server initialization ...</span>

<span class="ruby-identifier">s</span>.<span class="ruby-identifier">add_handler</span>(<span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-identifier">iPIMethods</span>(<span class="ruby-string">&quot;sample&quot;</span>), <span class="ruby-constant">MyHandler</span>.<span class="ruby-identifier">new</span>)

<span class="ruby-comment"># ...</span>
</pre>

<p>This adds only public instance methods explicitly declared in class
MyHandler (and not those inherited from any other class).</p>

<h4 id="label-With+interface+declarations">With interface declarations<span><a href="#label-With+interface+declarations">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Code sample from the book Ruby Developer’s Guide:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/server&quot;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">Num</span>
  <span class="ruby-constant">INTERFACE</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-identifier">interface</span>(<span class="ruby-string">&quot;num&quot;</span>) {
    <span class="ruby-identifier">meth</span> <span class="ruby-string">'int add(int, int)'</span>, <span class="ruby-string">'Add two numbers'</span>, <span class="ruby-string">'add'</span>
    <span class="ruby-identifier">meth</span> <span class="ruby-string">'int div(int, int)'</span>, <span class="ruby-string">'Divide two numbers'</span>
  }

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>) <span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">b</span> <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">div</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>) <span class="ruby-identifier">a</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">b</span> <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">s</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">CGIServer</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">add_handler</span>(<span class="ruby-constant">Num</span><span class="ruby-operator">::</span><span class="ruby-constant">INTERFACE</span>, <span class="ruby-constant">Num</span>.<span class="ruby-identifier">new</span>)
<span class="ruby-identifier">s</span>.<span class="ruby-identifier">serve</span>
</pre>

<h3 id="label-Standalone+server">Standalone server<span><a href="#label-Standalone+server">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Same as CGI-based server, only that the line</p>

<pre>server = XMLRPC::CGIServer.new</pre>

<p>must be changed to</p>

<pre>server = XMLRPC::Server.new(8080)</pre>

<p>if you want a server listening on port 8080. The rest is the same.</p>

<h3 id="label-Choosing+a+different+XML+Parser+or+XML+Writer">Choosing a different XML Parser or XML Writer<span><a href="#label-Choosing+a+different+XML+Parser+or+XML+Writer">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The examples above all use the default parser (which is now since 1.8
REXMLStreamParser) and a default XML writer.  If you want to use a
different XML parser, then you have to call the <em>set_parser</em> method
of <code>XMLRPC::Client</code> instances or instances of subclasses of
<code>XMLRPC::BasicServer</code> or by editing xmlrpc/config.rb.</p>

<p>Client Example:</p>

<pre># ...
server = XMLRPC::Client.new( &quot;xmlrpc-c.sourceforge.net&quot;, &quot;/api/sample.php&quot;)
server.set_parser(XMLRPC::XMLParser::XMLParser.new)
# ...</pre>

<p>Server Example:</p>

<pre># ...
s = XMLRPC::CGIServer.new
s.set_parser(XMLRPC::XMLParser::XMLStreamParser.new)
# ...</pre>

<p>or:</p>

<pre># ...
server = XMLRPC::Server.new(8080)
server.set_parser(XMLRPC::XMLParser::NQXMLParser.new)
# ...</pre>

<p>Note that XMLStreamParser is incredible faster (and uses less memory) than
any other parser and scales well for large documents. For example for a 0.5
MB XML document with many tags, XMLStreamParser is ~350 (!) times faster
than NQXMLTreeParser and still ~18 times as fast as XMLTreeParser.</p>

<p>You can change the XML-writer by calling method <em>set_writer</em>.</p>

	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Rubydoc-Rdoc/">Rubydoc
			Rdoc Generator</a> 0.22.9</small>.</p>
	</div>
<script type="text/javascript">
var _uacct = "UA-335317-2";
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{ 
var pageTracker = _gat._getTracker(_uacct);
pageTracker._trackPageview();
} catch(err) {} 
</script>

</body>

</html>

